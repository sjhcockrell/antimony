#!/bin/sh

#  antimony 
#
#  A simple script that will generate 'ttf', 'eot', and 'woff'
#  font formats suitable for displaying webfonts. 
#
#  I use it in conjunction with Glyphs Mini, which exports an 
#  'otf' font format, to create icon sets.
#
#  Named for Antimony (Sb), Atomic Number 51, a hardening
#  element added to lead type to create sharp edges.
#

arg_path=`dirname $1`
arg_name=`basename $1 .otf`
font_ttf="$arg_name.ttf"
font_eot="$arg_name.eot"
font_woff="$arg_name.woff"

# Step 1: Generate TTF Version of OTF font.
fontforge -lang=ff -c "Open('$1');Generate('$1':r+'.ttf');Quit(0);"

# Step 2: Generate EOT Version from TTF
ttf2eot $arg_path/$font_ttf > $arg_path/$font_eot;

# Step 3: Generate WOFF Version from OTF
sfnt2woff $1 > $arg_path/$font_woff;

# Done.
